{"version":3,"sources":["webpack:///src/components/PanelLeft.vue","webpack:///./src/components/PanelLeft.vue?163e","webpack:///./src/components/PanelLeft.vue","webpack:///./src/utils/util.js","webpack:///src/components/PanelMain.vue","webpack:///./src/components/PanelMain.vue?4ab4","webpack:///./src/components/PanelMain.vue","webpack:///src/components/PanelRight.vue","webpack:///./src/components/PanelRight.vue?1c9f","webpack:///./src/components/PanelRight.vue","webpack:///./src/App.vue?c6f7","webpack:///./src/App.vue","webpack:///./src/components/Main.vue?1fe8","webpack:///./src/components/Main.vue","webpack:///src/components/Main.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/wsEvents.js","webpack:///src/App.vue"],"names":["PanelLeft","name","props","data","tabSelected","selected","watch","userIndex","val","val2","this","$emit","methods","infoAct","sessionStorage","removeItem","window","location","reload","selectAllUser","user","index","i","usersList","parseInt","selectUser","userListSwitch","components_PanelLeft","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","staticStyle","color","background-color","shape","size","_v","_s","userInfo","substr","trigger","placement","on","on-click","href","type","slot","_e","divided","display","placeholder","model","value","callback","$$v","expression","label","icon","_l","click","$event","class","group","count","unread","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","PanelMain","user.content","_this","$nextTick","setTimeout","chatMain","$el","querySelector","scrollTop","scrollHeight","dateFormat","date","Date","y","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","sendMsg","msg","trim","beforeUpload","file","uploadUrl","$Message","error","uploadSuccess","response","fileList","fileUrl","uploadConfig","urlKey","fileName","lastIndexOf","ext","isPic","indexOf","toLowerCase","chatAct","face","e","face_show","f","currentTarget","innerHTML","msgBr","back","isPhone","url","showMembers","components_PanelMain","position","top","text-align","members","length","item","Object","keys","chat-mine","from","src","img","time","domProps","replace","target","filename","span","show-upload-list","on-success","before-upload","action","mouseleave","nativeOn","mouseover","directives","rawName","rows","keyup","_k","keyCode","key","ctrlKey","shiftKey","altKey","metaKey","input","composing","float","margin-top","components_PanelRight","_m","selectortype_template_index_0_src_App","lrDisplay","md","sm","xs","user-info","users-list","all-users-list","allUsersList","actionLeft","allUserSelected","userSelected","actionMain","title","closable","mask-closable","$set","ref","formLogin","rules","rule","inline","prop","formLoginSubmit","formPasswd","memberManage","width","columns","on-ok","memberSearchOk","memberSearch","margin-bottom","on-selection-change","memberSearchSelected","footer-hide","ws_status","margin","font-size","__vue_styles__","App","components_Main","Vue","use","Router","router","routes","path","component","resolve","require","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","catch","oe","config","productionTip","iView","transfer","select","arrow","arrowSize","el","components","template","defineProperty","update_user","$v","status","success","password","del","filter","u","push","user_list","online","searchData","join_group","group_name","users","content","create","unshift","passwd","show","passwd2","warn","code","ws","close","__WEBPACK_IMPORTED_MODULE_2__components_PanelLeft__","__WEBPACK_IMPORTED_MODULE_3__components_PanelMain__","PanelRight","__WEBPACK_IMPORTED_MODULE_4__components_PanelRight__","send","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","to","last_time","$refs","validate","valid","wsUpdateUser","$data","wsMsg","evt","eval","setItem","afterLogin","_i","_top","splice","new_chat","_i2","_top2","__WEBPACK_IMPORTED_MODULE_5__wsEvents__","act","_this2","connectWs","vthis","wsStatus","WebSocket","wsUrl","onopen","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","onmessage","onclose","console","debug","event","selection","created","_this3","getItem","setInterval","notification","document","m1","m2","computed","_this4","required","message","min","params","style","marginLeft","row"],"mappings":"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","file":"static/js/app.cea63e0bce2818466b47.js","sourcesContent":["<template>\n<div id=\"panel-left\">\n    <div class=\"header\">\n        <Avatar style=\"color: #f8f8f9;background-color: #19be6b\" shape=\"square\" size=\"large\">\n            {{ typeof(userInfo.name) == 'string' ? userInfo.name.substr(0,1) : '' }}\n        </Avatar>\n        <div class=\"info\">\n            <span>{{ typeof(userInfo.name) ? userInfo.name : '请登录' }}</span>\n\n            <Dropdown trigger=\"click\" class=\"info-act\" placement=\"bottom-end\" @on-click=\"infoAct\">\n                <a href=\"javascript:void(0)\">\n                    <Icon type=\"md-menu\" size=\"26\" /></Icon>\n                </a>\n                <DropdownMenu slot=\"list\">\n                    <DropdownItem name=\"memberManage\" v-if=\"userInfo.manager\">人员管理</DropdownItem>\n                    <DropdownItem divided name=\"passwd\">修改密码</DropdownItem>\n                    <DropdownItem name=\"logout\">退出</DropdownItem>\n                </DropdownMenu>\n            </Dropdown>\n        </div>\n\n        <div class=\"search\" style=\"display: none;\">\n            <Input type=\"text\" placeholder=\"\">\n                <Icon type=\"ios-search\" slot=\"prepend\"></Icon>\n            </Input>\n        </div>\n    </div>\n\n    <Tabs class=\"userlist-tab\" v-model:value=\"tabSelected\" @on-click=\"userListSwitch\">\n        <TabPane label=\"会话列表\" name=\"tab1\" icon=\"ios-chatbubbles\">\n            <CellGroup>\n                <div class=\"userlist-item\" v-for=\"(user, index) in usersList\" @click=\"selectUser(user, index)\">\n                <Cell :class=\"{selected : selected == index}\">\n                    <div class=\"avatar\" style=\"display: inline;\">\n                        <Avatar v-if=\"!user.group\" icon=\"ios-person\" />\n                        <Avatar v-if=\"user.group\" icon=\"ios-people\" />\n                        <!--Avatar>U</Avatar-->\n                    </div>\n                    <div class=\"\" style=\"display: inline;\">\n                        <span>{{ user.name }}</span>\n                    </div>\n\n                    <Badge v-bind:count=\"user.unread\" slot=\"extra\" />\n                </Cell>\n                </div>\n            </CellGroup>\n        </TabPane>\n        <TabPane label=\"人员列表\" name=\"tab2\" icon=\"ios-contact\">\n            <CellGroup>\n                <div v-if=\"userInfo.name != user.name\" v-for=\"(user, index) in allUsersList\" @click=\"selectAllUser(user, index)\">\n                <Cell class=\"\">\n                    <div class=\"avatar\" style=\"display: inline;\">\n                        <Avatar icon=\"ios-person\" />\n                        <!--Avatar v-if=\"user.online\" icon=\"ios-person\" style=\"background-color: #87d068;\" /-->\n                        <!--Avatar>U</Avatar-->\n                    </div>\n                    <div class=\"\" style=\"display: inline;\">\n                        <span>{{ user.name }}</span>\n                    </div>\n\n                    <Badge v-bind:count=\"user.unread\" slot=\"extra\" />\n                </Cell>\n                </div>\n            </CellGroup>\n        </TabPane>\n    </Tabs>\n</div>        \n</template>\n\n<script>\nexport default {\n    name: 'PanelLeft',\n\n    props: ['usersList', 'allUsersList', 'userInfo', 'userIndex'],\n\n    data () {\n        return {\n            tabSelected: 'tab1',\n            selected: -1,\n        }\n    },\n\n    watch: {\n        userIndex: function( val, val2 ) {\n            this.selected = val;\n            this.$emit('userSelected', this.selected);\n        }\n        \n    },\n\n    methods: {\n        infoAct: function(name){\n            switch ( name ) {\n                case 'logout':\n                    sessionStorage.removeItem('user');\n                    window.location.reload();\n                break;\n\n                case 'memberManage':\n                    this.$emit('actionLeft', name);\n                break;\n\n                case 'passwd':\n                    this.$emit('actionLeft', name);\n                break;\n            }\n        },\n\n        selectAllUser: function ( user, index ) {\n            this.tabSelected = 'tab1';\n\n            // 在人员列表中选择聊天对象\n            for ( let i in this.usersList ) {\n                if ( this.usersList[i].name == user.name ) {\n                    // 人员列表中选择的在会话列表中是否存在\n                    this.selected = parseInt(i);\n                    \n                    this.$emit('userSelected', i);\n                    return ;\n                }\n            }\n            \n            // 会话列表中不存在，添加至会话列表中\n            this.$emit('allUserSelected', user);\n            this.selected = 0;\n        },\n\n        selectUser: function (user, index) {\n            this.selected = index;\n            this.$emit('userSelected', index);\n        },\n\n        userListSwitch: function ( index ) {\n            \n        }\n    }\n}\n</script>\n\n<style>\n#panel-left{\n    height: 100%;\n    background-color: #d9d9d9;\n    border-right: 1px #dcdee2 solid;\n}\n\n#panel-left .header {\n    padding: 17px 7px;\n    font-size: 16px;\n    margin: 0 10px;\n    /*border-bottom: 1px solid #989898;*/\n}\n#panel-left .header .info {\n    display: inline-block;\n}\n\n#panel-left .header .info-act{\n    position: absolute;\n    right: 10px;\n    top: 0;\n    margin-top: 25px;\n}\n\n.userlist-tab {\n    height: calc(100% - 74px);\n}\n\n.userlist-tab .ivu-tabs-nav{ width: 100%; }\n.userlist-tab .ivu-tabs-tab{ width: 50%; }\n.userlist-tab .ivu-tabs-tab .ivu-icon { font-size: 22px; width: 22px; height: 22px; margin-right: 1px; }\n\n.userlist-tab .ivu-tabs-bar{ margin-bottom: 0;}\n.userlist-tab .ivu-tabs-content{ height: 100%;}\n.userlist-tab .ivu-tabs-tabpane{ width: 100%; height: calc(100% - 36px); overflow: hidden; overflow-y: auto; }\n\n.userlist-tab .ivu-tabs-bar { \n    border-color: #96969a;\n    box-shadow: 0px -1px #cccdce;\n}\n\n.userlist-item{\n    border-top: 1px solid #ccc;\n}\n.userlist-item .ivu-cell-title {\n    font-size: 16px;\n}\n\n#panel-left .search{\n    margin: 10px 10px;\n}\n\n#panel-left .ivu-cell.selected {\n    background-color: #f8f8f9;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelLeft.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-left\"}},[_c('div',{staticClass:\"header\"},[_c('Avatar',{staticStyle:{\"color\":\"#f8f8f9\",\"background-color\":\"#19be6b\"},attrs:{\"shape\":\"square\",\"size\":\"large\"}},[_vm._v(\"\\n            \"+_vm._s(typeof(_vm.userInfo.name) == 'string' ? _vm.userInfo.name.substr(0,1) : '')+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(_vm._s(typeof(_vm.userInfo.name) ? _vm.userInfo.name : '请登录'))]),_vm._v(\" \"),_c('Dropdown',{staticClass:\"info-act\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom-end\"},on:{\"on-click\":_vm.infoAct}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-menu\",\"size\":\"26\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[(_vm.userInfo.manager)?_c('DropdownItem',{attrs:{\"name\":\"memberManage\"}},[_vm._v(\"人员管理\")]):_vm._e(),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"divided\":\"\",\"name\":\"passwd\"}},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"name\":\"logout\"}},[_vm._v(\"退出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search\",staticStyle:{\"display\":\"none\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-search\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('Tabs',{staticClass:\"userlist-tab\",on:{\"on-click\":_vm.userListSwitch},model:{value:(_vm.tabSelected),callback:function ($$v) {_vm.tabSelected=$$v},expression:\"tabSelected\"}},[_c('TabPane',{attrs:{\"label\":\"会话列表\",\"name\":\"tab1\",\"icon\":\"ios-chatbubbles\"}},[_c('CellGroup',_vm._l((_vm.usersList),function(user,index){return _c('div',{staticClass:\"userlist-item\",on:{\"click\":function($event){return _vm.selectUser(user, index)}}},[_c('Cell',{class:{selected : _vm.selected == index}},[_c('div',{staticClass:\"avatar\",staticStyle:{\"display\":\"inline\"}},[(!user.group)?_c('Avatar',{attrs:{\"icon\":\"ios-person\"}}):_vm._e(),_vm._v(\" \"),(user.group)?_c('Avatar',{attrs:{\"icon\":\"ios-people\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('span',[_vm._v(_vm._s(user.name))])]),_vm._v(\" \"),_c('Badge',{attrs:{\"slot\":\"extra\",\"count\":user.unread},slot:\"extra\"})],1)],1)}),0)],1),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"人员列表\",\"name\":\"tab2\",\"icon\":\"ios-contact\"}},[_c('CellGroup',_vm._l((_vm.allUsersList),function(user,index){return (_vm.userInfo.name != user.name)?_c('div',{on:{\"click\":function($event){return _vm.selectAllUser(user, index)}}},[_c('Cell',{},[_c('div',{staticClass:\"avatar\",staticStyle:{\"display\":\"inline\"}},[_c('Avatar',{attrs:{\"icon\":\"ios-person\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline\"}},[_c('span',[_vm._v(_vm._s(user.name))])]),_vm._v(\" \"),_c('Badge',{attrs:{\"slot\":\"extra\",\"count\":user.unread},slot:\"extra\"})],1)],1):_vm._e()}),0)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52c11f4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelLeft.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52c11f4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelLeft.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelLeft.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelLeft.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52c11f4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelLeft.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelLeft.vue\n// module id = null\n// module chunks = ","//Date对象转化为yyyy-MM-dd格式\nexport default {\n    dateFormat (value) {\n        let date = new Date(value * 1000);\n        let y = date.getFullYear();\n        let MM = date.getMonth() + 1;\n        MM = MM < 10 ? ('0' + MM) : MM;\n        let d = date.getDate();\n        d = d < 10 ? ('0' + d) : d;\n        let h = date.getHours();\n        h = h < 10 ? ('0' + h) : h;\n        let m = date.getMinutes();\n        m = m < 10 ? ('0' + m) : m;\n        let s = date.getSeconds();\n        s = s < 10 ? ('0' + s) : s;\n        return y + '-' + MM + '-' + d + ' ' + h + ':' + m + ':' + s;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","<template>\n<div id=\"panel-main\">\n    <div class=\"chat-title\">\n        <Icon type=\"ios-arrow-back\" :size=\"26\" v-if=\"isPhone\" @click=\"back()\" style=\"position: absolute; top:12px;\" />\n        <div class=\"users-list\" v-if=\"!user.group\" style=\"text-align: center;\">\n            {{ user.name }}\n        </div>\n        <div class=\"users-list\" v-if=\"user.group\" style=\"text-align: center;\">\n            <a href=\"javascript:void(0)\" size=\"26\" @click=\"showMembers = showMembers ? false : true;\">\n                {{ user.name }} {{ user.members.length }}人\n                <Icon type=\"ios-arrow-down\" v-if=\"user.group\" /></Icon>\n            </a>\n            <div class=\"members\" v-if=\"showMembers\">\n                <div class=\"user\" v-for=\"item in user.members\">\n                    <Avatar icon=\"ios-person\" />\n                    <p>{{item.name}}</p>\n                </div>\n            </div>\n        </div>\n\n        <Dropdown class=\"chat-act\" trigger=\"click\" placement=\"bottom-end\" v-if=\"Object.keys(user).length !== 0\" @on-click=\"chatAct\">\n            <a href=\"javascript:void(0)\">\n                <Icon type=\"md-more\" size=\"26\" /></Icon>\n            </a>\n            <DropdownMenu slot=\"list\">\n                <!--DropdownItem>关闭通知</DropdownItem-->\n                <DropdownItem name=\"delConversation\">{{user.group ? '退出群聊' : '删除会话'}}</DropdownItem>\n                <DropdownItem divided name=\"memberSearch\">{{user.group ? '拉人入群' : '发起群聊'}}</DropdownItem>\n            </DropdownMenu>\n        </Dropdown>\n    </div>\n\n    <div class=\"chat-body\">\n        <div class=\"chat-main\">\n        <ul>\n            <li v-for=\"item in user.content\" :class=\"{ 'chat-mine' : item.from === userInfo.name }\">\n                <div class=\"chat-user\">\n                    <Avatar :src=\"item.img\" icon=\"ios-person\" />\n                    <p><span class=\"msg_from\">{{ item.from }}</span><span class=\"msg_time\">{{ dateFormat(item.time) }}</span></p>\n                </div>\n\n                <div class=\"chat-text\" v-if=\"item.type == 'txt'\" v-html=\"item.msg.replace(/\\n/g, '<br />')\">\n                </div>\n                \n                <div class=\"chat-text\" v-if=\"item.type != 'txt'\">\n                    <a :href=\"item.msg\" target=\"_blank\" v-if=\"item.type === 'img' \">\n                        <img class=\"timg\" :src=\"item.msg\" />\n                    </a>\n\n                    <a :href=\"item.msg\" style=\"color: white;\" v-if=\"item.type === 'file' \">\n                        <Icon type=\"md-copy\" size=\"40\" color=\"#515a6e\" />\n                        <span>{{ item.filename }}</span>\n                    </a> \n                </div>\n            </li>\n        </ul>\n        </div>\n    </div>\n    \n    <div class=\"chat-bottom\" v-if=\"Object.keys(user).length !== 0\">\n        <Row>\n            <Col span=\"2\">\n            <Upload\n                :show-upload-list=\"false\"\n                :on-success=\"uploadSuccess\"\n                :before-upload=\"beforeUpload\"\n                v-bind:action=\"uploadUrl\">\n                <Icon type=\"md-copy\" size=\"26\" />\n            </Upload>\n            </Col>\n            <Col span=\"2\">\n                <div \n                    @mouseleave=\"face_show = false\"\n                    v-if=\"face_show\" class=\"face-box\">\n                    <ul>\n                        <li v-for=\"i in 20\" v-html=\"'&#'+ (128512+i)+';'\" @click=\"face\"></li>\n                    </ul>\n                </div>\n                <Icon \n                    @mouseover.native=\"face_show = true\"\n                    type=\"md-happy\" size=\"26\" />\n            </Col>\n        </Row>\n\n        <div>\n            <textarea class=\"ivu-input\" rows=\"3\" v-model=\"msg\" @keyup.enter.exact=\"sendMsg()\" @keyup.ctrl.enter=\"msgBr()\"></textarea>\n        </div>\n\n        <Button type=\"primary\" @click=\"sendMsg()\" style=\"float: right; margin-top: 5px;\">\n            发送 <Icon type=\"ios-paper-plane\" :size=\"14\" />\n        </Button>\n    </div>\n</div>        \n</template>\n\n<script>\nimport util from '../utils/util.js';\nexport default {\n    name: 'PanelMain',\n\n    props: ['user', 'userInfo'],\n\n    watch: {\n        'user.content'() {\n            this.$nextTick(() => {\n                setTimeout(() => {\n                    let chatMain = this.$el.querySelector('.chat-main');\n                    chatMain.scrollTop = chatMain.scrollHeight;\n                }, 15);\n            })\n        }\n    },\n\n    methods: {\n        dateFormat: util.dateFormat,\n\n        sendMsg(){\n            if ( this.msg.trim() == '') return;\n            \n            this.$emit('sendMsg', this.msg, {type: 'txt'});\n            this.msg = '';\n        },\n\n        beforeUpload: function(file){\n            if (this.uploadUrl == '') {\n                this.$Message.error('demo 暂不支持上传文件及图片');\n                return false;\n            }\n            return true;\n        },\n\n        uploadSuccess: function(response, file, fileList){\n            let fileUrl = response[uploadConfig.urlKey];\n            let fileName= file.name;\n\n            var index = fileName.lastIndexOf(\".\");\n            var ext   = fileName.substr(index+1);\n            var isPic = false;\n            if ( ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'].indexOf(ext.toLowerCase()) !== -1 ) {\n                isPic = true;\n            }\n\n            this.$emit('sendMsg', fileUrl, {type: isPic ? 'img' : 'file', name: fileName});\n        },\n\n        chatAct: function(name){\n            switch ( name ) {\n                case 'memberSearch':\n                    this.$emit('actionMain', 'memberSearch');\n                break;\n\n                case 'delConversation':\n                    this.$emit('actionMain', name);\n                break;\n            }\n        },\n\n        face: function(e){\n            this.face_show = false;\n\n            let f = e.currentTarget.innerHTML;\n            this.msg = this.msg + f;\n        },\n\n        msgBr() {\n            this.msg += \"\\n\";\n        },\n\n        back(){\n            this.$emit('actionMain', 'back', -1);\n        }\n    },\n\n    data: function(){\n        return {\n            isPhone: isPhone,\n            uploadUrl: uploadConfig.url,\n            showMembers: false,\n\n            msg: '',\n\n            face_show: false\n        }\n    }\n}\n</script>\n\n<style>\n#panel-main{\n    height: 100%;\n}\n\n.chat-title, .chat-bottom{\n    top: 0;\n    position: absolute;\n    width: 100%;\n    background-color: #f8f8f9;\n    padding: 5px 10px;\n    height: 52px;\n    border-bottom: 1px #dcdee2 solid;\n    z-index: 2;\n}\n\n.chat-title .users-list{\n    line-height: 40px;\n    font-size: 16px;\n}\n.chat-title .users-list a{ font-size: 16px;}\n.chat-title .user{\n    width: 42px;\n    display: inline-block;\n    text-align: center;\n    margin: 10px;\n}\n\n.members { \n    position: absolute;\n    width: 100%;\n    left: 0;\n    background: #fff;\n}\n\n.chat-act{\n    position:absolute;\n    right: 10px;\n    top: 5px;\n    line-height: 42px;\n    float: right;\n}\n\n.chat-body{ height: 100%; background-color: #f8f8f9;}\n.chat-body>.chat-main {\n    padding: 67px 10px 170px 10px;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n.chat-body ul>li {\n    position: relative;\n    font-size: 0;\n    margin-bottom: 25px;\n    padding-left: 60px;\n    min-height: 68px;\n}\n.chat-body ul>li.chat-mine{\n    text-align: right;\n    padding-left: 0;\n    padding-right: 60px;\n}\n.chat-body ul>li span.msg_time{ margin: 0 10px;}\n.chat-body ul>li.chat-mine span.msg_from { float: right; }\n\n.chat-body ul>li .chat-user {\n    position: absolute;\n    left: 5px;\n    top: 0;\n}\n.chat-body ul>li.chat-mine .chat-user{\n    right: 5px;\n    left: auto;\n}\n.chat-body ul>li p{\n    position: absolute;\n    left: 60px;\n    top: -2px;\n    width: 500px;\n    line-height: 24px;\n    font-size: 12px;\n    white-space: nowrap;\n    color: #999;\n    text-align: left;\n    font-style: normal;\n}\n.chat-body ul>li.chat-mine p{\n    left: auto;\n    right: 60px;\n    text-align: right;\n}\n.chat-body .chat-text {\n    position: relative;\n    line-height: 22px;\n    top: 25px;\n    padding: 8px 15px;\n    background-color: #e2e2e2;\n    border-radius: 3px;\n    color: #333;\n    word-break: break-all;\n    max-width: 462px;\n    font-size: 15px;\n    display: inline-block;\n}\n.chat-body li.chat-mine .chat-text{\n    margin-left: 0;\n    text-align: left;\n    background-color: #5FB878;\n    color: #fff;\n}\n.chat-body .chat-text img {\n    max-width: 100%;\n    vertical-align: middle;\n}\n.chat-body .chat-text .timg {\n    max-height: 300px;\n}\n\n.chat-body .chat-text:after {\n    content: '';\n    position: absolute;\n    left: -10px;\n    top: 13px;\n    width: 0;\n    height: 0;\n    border-style: solid dashed dashed;\n    border-color: #e2e2e2 transparent transparent;\n    overflow: hidden;\n    border-width: 10px;\n}\n.chat-body li.chat-mine .chat-text:after {\n    left: auto; \n    right: -10px;\n    border-top-color: #5FB878;\n}\n\n.chat-bottom {\n    height: 170px;\n    border-top: 1px #dcdee2 solid;\n    border-bottom: 0;\n    left: 0;\n    bottom: 0;\n    top: auto;\n    padding-top: 0;\n}\n\n.chat-bottom .ivu-col{ line-height: 42px; text-align: center; cursor: pointer;}\n.chat-bottom textarea{  font-size: 16px;}\n\n.face-box{\n    border: 1px solid #dcdee2;\n    width: 202px;\n    height: 162px;\n    position: absolute;\n    bottom: 42px;\n    background: #fff;\n}\n.face-box li{\n    list-style: none;\n    width: 40px;\n    height: 40px;\n    font-size: 22px;\n    display: inline-block;\n    float: left;\n    cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelMain.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-main\"}},[_c('div',{staticClass:\"chat-title\"},[(_vm.isPhone)?_c('Icon',{staticStyle:{\"position\":\"absolute\",\"top\":\"12px\"},attrs:{\"type\":\"ios-arrow-back\",\"size\":26},on:{\"click\":function($event){return _vm.back()}}}):_vm._e(),_vm._v(\" \"),(!_vm.user.group)?_c('div',{staticClass:\"users-list\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.user.name)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.user.group)?_c('div',{staticClass:\"users-list\",staticStyle:{\"text-align\":\"center\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"size\":\"26\"},on:{\"click\":function($event){_vm.showMembers = _vm.showMembers ? false : true;}}},[_vm._v(\"\\n                \"+_vm._s(_vm.user.name)+\" \"+_vm._s(_vm.user.members.length)+\"人\\n                \"),(_vm.user.group)?_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.showMembers)?_c('div',{staticClass:\"members\"},_vm._l((_vm.user.members),function(item){return _c('div',{staticClass:\"user\"},[_c('Avatar',{attrs:{\"icon\":\"ios-person\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.name))])],1)}),0):_vm._e()]):_vm._e(),_vm._v(\" \"),(Object.keys(_vm.user).length !== 0)?_c('Dropdown',{staticClass:\"chat-act\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom-end\"},on:{\"on-click\":_vm.chatAct}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-more\",\"size\":\"26\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"delConversation\"}},[_vm._v(_vm._s(_vm.user.group ? '退出群聊' : '删除会话'))]),_vm._v(\" \"),_c('DropdownItem',{attrs:{\"divided\":\"\",\"name\":\"memberSearch\"}},[_vm._v(_vm._s(_vm.user.group ? '拉人入群' : '发起群聊'))])],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"chat-body\"},[_c('div',{staticClass:\"chat-main\"},[_c('ul',_vm._l((_vm.user.content),function(item){return _c('li',{class:{ 'chat-mine' : item.from === _vm.userInfo.name }},[_c('div',{staticClass:\"chat-user\"},[_c('Avatar',{attrs:{\"src\":item.img,\"icon\":\"ios-person\"}}),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"msg_from\"},[_vm._v(_vm._s(item.from))]),_c('span',{staticClass:\"msg_time\"},[_vm._v(_vm._s(_vm.dateFormat(item.time)))])])],1),_vm._v(\" \"),(item.type == 'txt')?_c('div',{staticClass:\"chat-text\",domProps:{\"innerHTML\":_vm._s(item.msg.replace(/\\n/g, '<br />'))}}):_vm._e(),_vm._v(\" \"),(item.type != 'txt')?_c('div',{staticClass:\"chat-text\"},[(item.type === 'img' )?_c('a',{attrs:{\"href\":item.msg,\"target\":\"_blank\"}},[_c('img',{staticClass:\"timg\",attrs:{\"src\":item.msg}})]):_vm._e(),_vm._v(\" \"),(item.type === 'file' )?_c('a',{staticStyle:{\"color\":\"white\"},attrs:{\"href\":item.msg}},[_c('Icon',{attrs:{\"type\":\"md-copy\",\"size\":\"40\",\"color\":\"#515a6e\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.filename))])],1):_vm._e()]):_vm._e()])}),0)])]),_vm._v(\" \"),(Object.keys(_vm.user).length !== 0)?_c('div',{staticClass:\"chat-bottom\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_c('Upload',{attrs:{\"show-upload-list\":false,\"on-success\":_vm.uploadSuccess,\"before-upload\":_vm.beforeUpload,\"action\":_vm.uploadUrl}},[_c('Icon',{attrs:{\"type\":\"md-copy\",\"size\":\"26\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"2\"}},[(_vm.face_show)?_c('div',{staticClass:\"face-box\",on:{\"mouseleave\":function($event){_vm.face_show = false}}},[_c('ul',_vm._l((20),function(i){return _c('li',{domProps:{\"innerHTML\":_vm._s('&#'+ (128512+i)+';')},on:{\"click\":_vm.face}})}),0)]):_vm._e(),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"md-happy\",\"size\":\"26\"},nativeOn:{\"mouseover\":function($event){_vm.face_show = true}}})],1)],1),_vm._v(\" \"),_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],staticClass:\"ivu-input\",attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.msg)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.sendMsg()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.msgBr()}],\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}})]),_vm._v(\" \"),_c('Button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.sendMsg()}}},[_vm._v(\"\\n            发送 \"),_c('Icon',{attrs:{\"type\":\"ios-paper-plane\",\"size\":14}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62e9e24e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelMain.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62e9e24e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelMain.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelMain.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelMain.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62e9e24e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelMain.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelMain.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"panel-right\">\n    <span>Panel Left</span>\n</div>        \n</template>\n\n<script>\nexport default {\n    name: 'PanelLeft'\n}\n</script>\n\n<style>\n#panel-right{\n    height: 100%;\n    background-color: #d9d9d9;\n    border-left: 1px #dcdee2 solid;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PanelRight.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"panel-right\"}},[_c('span',[_vm._v(\"Panel Left\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-074ef074\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PanelRight.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-074ef074\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PanelRight.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelRight.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PanelRight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-074ef074\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PanelRight.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PanelRight.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"#fff\"},attrs:{\"id\":\"app\"}},[_c('Row',{staticClass:\"wrapper\"},[_c('Col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lrDisplay==0 || _vm.lrDisplay==-1),expression:\"lrDisplay==0 || lrDisplay==-1\"}],attrs:{\"md\":7,\"sm\":9,\"xs\":24}},[_c('panel-left',{attrs:{\"user-info\":_vm.userInfo,\"users-list\":_vm.usersList,\"all-users-list\":_vm.allUsersList,\"userIndex\":_vm.userIndex},on:{\"actionLeft\":_vm.actionLeft,\"allUserSelected\":_vm.allUserSelected,\"userSelected\":_vm.userSelected}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('Col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lrDisplay==1 || _vm.lrDisplay==-1),expression:\"lrDisplay==1 || lrDisplay==-1\"}],attrs:{\"md\":17,\"sm\":15,\"xs\":24}},[_c('panel-main',{attrs:{\"user\":_vm.user,\"userInfo\":_vm.userInfo},on:{\"actionMain\":_vm.actionMain,\"sendMsg\":_vm.sendMsg}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"请登录\",\"closable\":false,\"mask-closable\":false},model:{value:(Object.keys(_vm.userInfo).length === 0),callback:function ($$v) {_vm.$set(Object.keys(_vm.userInfo), \"length === 0\", $$v)},expression:\"Object.keys(userInfo).length === 0\"}},[_c('Form',{ref:\"formLogin\",attrs:{\"model\":_vm.formLogin,\"rules\":_vm.formLogin.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Username\"},model:{value:(_vm.formLogin.user),callback:function ($$v) {_vm.$set(_vm.formLogin, \"user\", $$v)},expression:\"formLogin.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.formLogin.password),callback:function ($$v) {_vm.$set(_vm.formLogin, \"password\", $$v)},expression:\"formLogin.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formLogin')}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"密码修改\",\"closable\":false},model:{value:(_vm.formPasswd.show),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"show\", $$v)},expression:\"formPasswd.show\"}},[_c('Form',{ref:\"formPasswd\",attrs:{\"model\":_vm.formPasswd,\"rules\":_vm.formPasswd.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"passwd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"旧密码\"},model:{value:(_vm.formPasswd.passwd),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"passwd\", $$v)},expression:\"formPasswd.passwd\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"passwd2\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\"},model:{value:(_vm.formPasswd.passwd2),callback:function ($$v) {_vm.$set(_vm.formPasswd, \"passwd2\", $$v)},expression:\"formPasswd.passwd2\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formPasswd')}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"人员管理\"},model:{value:(_vm.memberManage.show),callback:function ($$v) {_vm.$set(_vm.memberManage, \"show\", $$v)},expression:\"memberManage.show\"}},[_c('Form',{ref:\"formUpdateUser\",attrs:{\"model\":_vm.formLogin,\"rules\":_vm.formLogin.rule,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"size\":\"default\",\"placeholder\":\"Username\"},model:{value:(_vm.formLogin.user),callback:function ($$v) {_vm.$set(_vm.formLogin, \"user\", $$v)},expression:\"formLogin.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{staticStyle:{\"width\":\"190px\"},attrs:{\"type\":\"password\",\"size\":\"default\",\"placeholder\":\"Password\"},model:{value:(_vm.formLogin.password),callback:function ($$v) {_vm.$set(_vm.formLogin, \"password\", $$v)},expression:\"formLogin.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"default\"},on:{\"click\":function($event){return _vm.formLoginSubmit('formUpdateUser')}}},[_vm._v(\"添加\")])],1)],1),_vm._v(\" \"),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.memberManage.columns,\"data\":_vm.memberManage.data}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"人员列表\"},on:{\"on-ok\":_vm.memberSearchOk},model:{value:(_vm.memberSearch.show),callback:function ($$v) {_vm.$set(_vm.memberSearch, \"show\", $$v)},expression:\"memberSearch.show\"}},[[(!_vm.user.group)?_c('Input',{staticStyle:{\"margin-bottom\":\"8px\"},attrs:{\"placeholder\":\"群名称 创建后不可修改\"},model:{value:(_vm.memberSearch.group_name),callback:function ($$v) {_vm.$set(_vm.memberSearch, \"group_name\", $$v)},expression:\"memberSearch.group_name\"}}):_vm._e()],_vm._v(\" \"),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.memberSearch.columns,\"data\":_vm.memberSearch.data},on:{\"on-selection-change\":_vm.memberSearchSelected}})],2),_vm._v(\" \"),_c('Modal',{attrs:{\"footer-hide\":true,\"closable\":false,\"mask-closable\":false,\"width\":\"320\"},model:{value:(_vm.ws_status),callback:function ($$v) {_vm.ws_status=$$v},expression:\"ws_status\"}},[_c('Spin'),_c('span',{staticStyle:{\"color\":\"#ff9900\",\"float\":\"left\",\"margin\":\"-26px 0 0 60px\",\"font-size\":\"15px\"}},[_vm._v(\"服务器连接中...\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ed06968\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ed06968\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ed06968\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9a31622c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9a31622c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Main',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Main from '@/components/Main'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'App',\n      component: resolve => require(['@/App'], resolve)\n    },\n\n    {\n      path: '/login',\n      name: 'Login',\n      component: require(['@/components/Login'])\n    },\n\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport iView from 'iview';\nimport 'iview/dist/styles/iview.css';\nimport App from './App'\nimport router from './router'\n\n\nVue.config.productionTip = false\n\nVue.use(iView, {\n  transfer: true,\n  size: 'large',\n  select: {\n      arrow: 'md-arrow-dropdown',\n      arrowSize: 20\n  }\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n\n  // computed: {\n  //   abc: function(){\n  //     return require ('./components/Login.vue');\n  //   }\n  // },\n\n  // render (h) {\n  //   return h(this.abc)\n  // }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default {\n    update_user( $v, msg ){\n        if ( !msg.status ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        $v.$Message.success(msg.msg);\n\n        $v.formLogin.user = '';\n        $v.formLogin.password = '';\n\n        if ( msg.data ) {\n            if ( typeof(msg.data.del) == 1 ) {\n                $v.memberManage.data = $v.memberManage.data.filter(u => u.name != msg.data.name);\n                return;\n            }\n\n            for ( let i in $v.memberManage.data ) {\n                if ( $v.memberManage.data[i].name == msg.data.name ) {\n                    return;\n                }\n            }\n            $v.memberManage.data.push( msg.data );\n        }\n    },\n\n    user_list( $v, msg ) {\n        if ( msg.data.length == 0 ) return;\n\n        if ( typeof(msg.data[0].online) !== 'undefined' ) {\n            $v.allUsersList = msg.data;\n        } else {\n            $v.memberManage.data = msg.data;\n\n            if( typeof($v.user.group) != 'undefined' ) { // 可能是拉人入群操作\n                let searchData = [];\n                if ( $v.user.group ) {\n                    // 群\n                    let members = [];\n                    for ( let i in $v.user.members ) {\n                        members.push($v.user.members[i].name);\n                    }\n                    for ( let i in msg.data) {\n                        if ( members.indexOf( msg.data[i].name ) > -1 ) continue;\n                        searchData.push(msg.data[i]);\n                    }\n                } else {\n                    for ( let i in msg.data ) {\n                        if ( msg.data[i].name == $v.user.name || msg.data[i].name == $v.userInfo.name ) continue;\n\n                        searchData.push(msg.data[i]);\n                    }\n                }\n\n                $v.memberSearch.data = searchData;\n            }\n        }\n    },\n\n    // add_friend( $v, msg ) {\n    //     //$v.usersList.unshit( {'name': msg.from} );\n    // },\n\n    join_group( $v, msg ) {\n        if ( msg.status != 1 ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        let group = {\n            'name': msg.group_name,\n            'img': '',\n            'unread': 0,\n            'members' : msg.users,\n            'group': true,\n            'content': []\n        };\n\n        if ( msg.create ) {\n            $v.usersList.unshift( group );\n\n            if ( msg.from == $v.userInfo.name ) {\n                if ( $v.userIndex == 0 ) {\n                    $v.userSelected(0);\n                    return;\n                }\n                $v.userIndex = 0;\n            }\n        } else {\n            for ( let i in $v.usersList ) {\n                if ( $v.usersList[i].group && $v.usersList[i].name == msg.group_name ) {\n                    $v.usersList[i].members = msg.users;\n                    return;\n                }\n            }\n\n            $v.usersList.unshift( group );\n        }\n\n        if(msg.from != $v.userInfo.name && typeof($v.user.name) != 'undefined' ) {\n            $v.userIndex += 1;\n        }\n    },\n\n    passwd( $v, msg ) {\n        if ( !msg.status ) {\n            return $v.$Message.error(msg.msg);\n        }\n\n        $v.$Message.success(msg.msg);\n        $v.formPasswd.show = false;\n        $v.formPasswd.passwd = '';\n        $v.formPasswd.passwd2 = '';\n    },\n\n    warn( $v, msg ) {\n        $v.$Message.error(msg.msg);\n\n        switch ( msg.code ) {\n            case 1:\n            sessionStorage.removeItem('user');\n            $v.userInfo = {};\n            $v.ws.close();\n            \n            setTimeout(() => {\n                window.location.reload();\n            }, 3500);\n            break;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/wsEvents.js","<template>\n    <div id=\"app\" style=\"background-color: #fff;\">\n        <Row class=\"wrapper\">\n            <Col :md=\"7\" :sm=\"9\" :xs=\"24\" v-show=\"lrDisplay==0 || lrDisplay==-1\">\n                <panel-left \n                        v-bind:user-info=\"userInfo\" \n                        v-bind:users-list=\"usersList\" \n                        v-bind:all-users-list=\"allUsersList\"\n                        v-bind:userIndex=\"userIndex\"\n                        @actionLeft = \"actionLeft\"\n                        @allUserSelected = \"allUserSelected\"\n                        @userSelected=\"userSelected\">\n                </panel-left>\n            </Col>\n\n            <transition name=\"slide-fade\">\n            <Col :md=\"17\" :sm=\"15\" :xs=\"24\" v-show=\"lrDisplay==1 || lrDisplay==-1\">\n                <panel-main \n                    v-bind:user=\"user\" \n                    v-bind:userInfo=\"userInfo\"\n                    @actionMain=\"actionMain\"\n                    @sendMsg=\"sendMsg\">\n                </panel-main>\n            </Col>\n            </transition>\n            <!--Col span=\"5\"><panel-right></panel-right></Col-->\n        </Row>\n\n        <Modal v-model=\"Object.keys(userInfo).length === 0\" title=\"请登录\" :closable=\"false\" :mask-closable=\"false\">\n            <Form ref=\"formLogin\" :model=\"formLogin\" :rules=\"formLogin.rule\" inline>\n                <FormItem prop=\"user\">\n                    <Input type=\"text\" v-model=\"formLogin.user\" placeholder=\"Username\">\n                        <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"password\">\n                    <Input type=\"password\" v-model=\"formLogin.password\" placeholder=\"Password\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n            </Form>\n            \n            <div slot=\"footer\">\n                <Button size=\"large\" @click=\"formLoginSubmit('formLogin')\">登录</Button>\n            </div>\n        </Modal>\n\n        <Modal v-model=\"formPasswd.show\" title=\"密码修改\" :closable=\"false\">\n            <Form ref=\"formPasswd\" :model=\"formPasswd\" :rules=\"formPasswd.rule\" inline>\n                <FormItem prop=\"passwd\">\n                    <Input type=\"password\" v-model=\"formPasswd.passwd\" placeholder=\"旧密码\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"passwd2\">\n                    <Input type=\"password\" v-model=\"formPasswd.passwd2\" placeholder=\"新密码\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n            </Form>\n            \n            <div slot=\"footer\">\n                <Button size=\"large\" @click=\"formLoginSubmit('formPasswd')\">确定</Button>\n            </div>\n        </Modal>\n\n        <Modal v-model=\"memberManage.show\" title=\"人员管理\">\n            <Form ref=\"formUpdateUser\" :model=\"formLogin\" :rules=\"formLogin.rule\" inline>\n                <FormItem prop=\"user\">\n                    <Input type=\"text\" size=\"default\" v-model=\"formLogin.user\" placeholder=\"Username\" style=\"width: 200px;\">\n                        <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n                <FormItem prop=\"password\">\n                    <Input type=\"password\" size=\"default\" v-model=\"formLogin.password\" placeholder=\"Password\" style=\"width: 190px;\">\n                        <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n                    </Input>\n                </FormItem>\n\n                <FormItem>\n                    <Button type=\"primary\" size=\"default\" @click=\"formLoginSubmit('formUpdateUser')\">添加</Button>\n                </FormItem>\n            </Form>\n            <Table size=\"small\" :columns=\"memberManage.columns\" :data=\"memberManage.data\"></Table>\n        </Modal>\n\n        <Modal v-model=\"memberSearch.show\" title=\"人员列表\" @on-ok=\"memberSearchOk\">\n            <template>\n                <Input v-if=\"!user.group\" v-model=\"memberSearch.group_name\" placeholder=\"群名称 创建后不可修改\" style=\"margin-bottom: 8px;\" />\n            </template>\n            <Table size=\"small\" :columns=\"memberSearch.columns\" :data=\"memberSearch.data\" @on-selection-change=\"memberSearchSelected\"></Table>\n        </Modal>\n\n        <Modal v-model=\"ws_status\" :footer-hide=\"true\" :closable=\"false\" :mask-closable=\"false\" width=\"320\">\n            <Spin></Spin><span style=\"color: #ff9900; float: left; margin: -26px 0 0 60px; font-size: 15px;\">服务器连接中...</span>\n        </Modal>\n    </div>\n</template>\n\n<script>\nimport PanelLeft from './components/PanelLeft';\nimport PanelMain from './components/PanelMain';\nimport PanelRight from './components/PanelRight';\nimport wsEvents from './wsEvents';\nrequire('./wsEvents.js');\n\nexport default {\n    name: 'App',\n    components: {\n        PanelLeft,\n        PanelMain,\n        PanelRight,\n    },\n\n    methods: {\n        userSelected: function(index){\n            if ( index < 0 || index > this.usersList.length ) {\n                this.user = {};\n                return;\n            }\n            this.user = this.usersList[index];\n\n            // 消息\n            this.ws.send( JSON.stringify({'type': 'msg_list', 'group': this.user.group, 'from': this.user.name, 'to': this.userInfo.name}) );\n\n            if ( this.user.unread > 0 ) {\n                this.ws.send( JSON.stringify({'type': 'mark_read', 'from': this.user.name, 'to': this.userInfo.name}) );\n            }\n\n            this.user.unread = 0;\n\n            // 选中会话中的用户\n            this.userIndex = index;\n            if ( isPhone && index > -1 ) {\n                // 手机版，需要显示聊天框\n                this.lrDisplay = 1;\n            }\n        },\n\n        allUserSelected: function(user) {\n            // 在未读消息那里双向加好友了\n            // this.ws.send(JSON.stringify({'type': 'add_friend', 'from': this.userInfo.name, 'to': user.name}));\n         \n            // 从人员列表中选择聊天对象\n            this.usersList.unshift({\n                'name': user.name,\n                'group': false,\n                'unread': 0,\n                'last_time': 9999999999,\n                'content': []\n            });\n            this.user = this.usersList[0];\n\n            this.userSelected(0);\n        },\n\n        formLoginSubmit(name) {\n            this.$refs[name].validate((valid) => {\n                if (valid) {\n                    switch(name) {\n                        case 'formLogin':\n                            var data = {\n                                'type': 'login',\n                                'name': this.formLogin.user,\n                                'passwd': this.formLogin.password\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n\n                        case 'formUpdateUser':\n                            var data = {\n                                'type': 'update_user',\n                                'name': this.formLogin.user,\n                                'passwd': this.formLogin.password\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n\n                        case 'formPasswd':\n                            var data = {\n                                'type': 'passwd',\n                                'passwd': this.formPasswd.passwd,\n                                'passwd2': this.formPasswd.passwd2,\n                                'name': this.userInfo.name\n                            };\n                            this.ws.send(JSON.stringify(data));\n                        break;\n                    }\n                }\n            })\n        },\n\n        wsUpdateUser($data){\n\n        },\n\n        wsMsg( evt ){\n            let msg = eval('('+ evt.data +')');\n            switch ( msg.type ) {\n                case 'login':\n                    if ( !msg.status ) {\n                        return this.$Message.error(msg.msg);\n                    }\n\n                    this.$Message.success(msg.msg);\n\n                    this.formLogin.user = '';\n                    this.formLogin.password = '';\n\n                    let data = msg.data;\n                    delete data.passwd;\n\n                    this.userInfo = data;\n                    sessionStorage.setItem('user', JSON.stringify(data));\n\n                    this.afterLogin();\n                break;\n\n                case 'friend_list':\n                    for ( let i in msg.data ) {\n                        msg.data[i].content = [];\n                    }\n                    this.usersList = msg.data;\n                break;\n\n                case 'msg_list':\n                    this.user.content = msg.data;\n                break;\n\n                case 'txt':\n                case 'img':\n                case 'file':\n                    if ( msg.from != this.userInfo.name ) {\n                        // 收信人\n                        if( msg.to.indexOf('@') === 0 ) {\n                            if ( msg.to.substr(1) != this.user.name ) {\n                                for ( let i in this.usersList ) {\n                                    if ( this.usersList[i].group && this.usersList[i].name == msg.to.substr(1) ) {\n                                        this.usersList[i].unread ++;\n\n                                        let _top = this.usersList[i];\n                                        this.usersList.splice(i, 1);\n                                        this.usersList.unshift(_top);\n\n                                        if ( this.userIndex >= 0 && this.userIndex < i ) {\n                                            this.userIndex += 1;\n                                        }\n                                        break;\n                                    }\n                                }\n                            } else {\n                                this.user.content.push( msg );\n                            }\n                        } else {\n                            // 用户消息\n                            if ( msg.new_chat == 1 ) {\n                                this.usersList.unshift({\n                                    'name': msg.from,\n                                    'img': '',\n                                    'group': false,\n                                    'unread': 1,\n                                    'last_time': msg.time,\n                                    'content': []\n                                });\n                                if ( typeof(this.user.name) != 'undefined' ) {\n                                    this.userIndex += 1;\n                                }\n                            }else if ( msg.from != this.user.name ) {\n                                for ( let i in this.usersList ) {\n                                    if ( this.usersList[i].name == msg.from ) {\n                                        this.usersList[i].unread ++;\n                                        this.usersList[i].last_time = msg.time;\n\n                                        let _top = this.usersList[i];\n                                        this.usersList.splice(i, 1);\n                                        this.usersList.unshift(_top);\n\n                                        if ( this.userIndex >= 0 && this.userIndex < i ) {\n                                            this.userIndex += 1;\n                                        }\n                                        break;\n                                    }\n                                }\n                            } else {\n                                this.user.last_time = msg.time;\n                                this.user.content.push( msg );\n                            }\n                        }\n                    } else if ( this.user.name == msg.to || this.user.name == msg.to.substr(1) ) {\n                        this.user.last_time = msg.time;\n                        this.user.content.push( msg );\n                    }\n                break;\n\n                default:\n                    if ( typeof( wsEvents[msg.type] ) == 'function' ) {\n                        wsEvents[msg.type]( this, msg );\n                    }\n                break;\n            }\n        },\n\n        sendMsg (msg, ext) {\n            let data = {\n                'type': 'txt',\n                'from': this.userInfo.name,\n                'to': this.user.name,\n                'msg': msg,\n                'name': this.userInfo.name,\n                //'img': '',\n            };\n\n            // setInterval(()=>{\n            //     this.ws.send(JSON.stringify(data));\n            // }, 1200);\n\n            switch ( ext.type ) {\n                case 'txt':\n\n                break;\n\n                case 'img':\n                    data.type = 'img';\n                break;\n\n                case 'file':\n                    data.type = 'file';\n                    data.filename = ext.name;\n                break;\n            }\n\n            \n            if ( this.user.group ) data.to = '@'+ data.to;\n            this.ws.send(JSON.stringify(data));\n        },\n\n        actionLeft(act, data){\n            switch ( act ) {\n                case 'memberManage':\n                    this.ws.send(JSON.stringify({'type': 'user_list'}));\n                    this.memberManage.show = true;\n                break;\n\n                case 'passwd':\n                    this.formPasswd.show = true;\n                break;\n            }\n        },\n\n        afterLogin(){\n            this.ws.send(JSON.stringify({'type': 'friend_list'}));\n\n            setTimeout(() => {\n                this.ws.send(JSON.stringify({'type': 'user_list', 'online': 1}));\n            }, 500);\n        },\n\n        connectWs(){\n            let vthis = this;\n            if ( this.wsStatus == -1 ) {\n                this.ws = new WebSocket(wsUrl);\n                this.ws.onopen = function() {\n                    vthis.wsStatus = 10;\n\n                    if ( Object.keys(vthis.userInfo).length > 0 ) {\n                        let data = {\n                            'type': 'login',\n                            'name': vthis.userInfo.name,\n                        };\n                        vthis.ws.send(JSON.stringify(data));\n\n                        setTimeout(() => {\n                            vthis.afterLogin();\n                        }, 500);\n                    }\n                };\n                this.ws.onmessage = this.wsMsg;\n                this.ws.onclose = function() { \n                    console.debug('onclose...');\n                    vthis.wsStatus = -1;\n                };\n            }\n            \n            setTimeout(this.connectWs, 3000);\n        },\n\n        actionMain(event, data) {\n            switch ( event ) {\n                case 'memberSearch':\n                    this.ws.send(JSON.stringify({'type': 'user_list'}));\n                    this.memberSearch.show = true;\n                break;\n\n                case 'delConversation':\n                    if ( this.user.group ) {\n                        this.ws.send(JSON.stringify({\n                            'type': 'leave_group', \n                            'from': this.userInfo.name,\n                            'group_name': this.user.name\n                        }));\n                    } else {\n                        this.ws.send(JSON.stringify({\n                            'type': 'del_friend', \n                            'from': this.userInfo.name,\n                            'name': this.user.name\n                        }));\n                    }\n\n                    this.usersList.splice(this.userIndex, 1);\n                    this.userIndex = -1;\n                break;\n\n                case 'back':\n                    this.lrDisplay = 0;\n                    this.userIndex = -1;\n                break;\n            }\n        },\n\n\n        memberSearchSelected(selection) {\n            this.memberSearch.selected = [];\n            for ( var i in selection ) {\n                this.memberSearch.selected.push(selection[i].name);\n            }\n        },\n\n        memberSearchOk() {\n            if ( this.memberSearch.selected.length == 0 ) return ;\n\n            let group_name = '';\n            let create = true;\n            if ( this.user.group ) {\n                group_name = this.user.name;\n                create = false;\n            } else {\n                if ( this.memberSearch.group_name == '' ) {\n                    this.$Message.error('请填写群名称!');\n                    return; \n                }\n\n                this.memberSearch.selected.push(this.user.name);\n                this.memberSearch.selected.push(this.userInfo.name);\n                \n                group_name = this.memberSearch.group_name; //this.memberSearch.selected.slice(0,2).join(',') + new Date().getTime();\n\n                this.memberSearch.group_name = '';\n            }\n\n            let data = {\n                'type': 'join_group', \n                'create': create,\n                'from': this.userInfo.name,\n                'group_name': group_name, \n                'users': this.memberSearch.selected\n            };\n            this.ws.send(JSON.stringify(data));\n        },\n    },\n\n    created () {\n        let vthis = this;\n\n        // 初始化界面，为手机时列表、聊天界面分开显示\n        this.lrDisplay = isPhone ? 0 : -1;\n\n        var user = sessionStorage.getItem('user');\n        if ( user != null ) {\n            this.userInfo = eval('('+ user +')');\n        }\n\n        // wsStatus : -1 断开 0 - 9 连接中 10 连接上\n        this.connectWs();\n        \n        /*\n        if ( Object.keys(this.userInfo).length === 0 ) {\n            this.$router.push(\"/login\");\n            return;\n        }\n        */\n\n        setInterval(()=>{\n            let m1 = '【新消息】';\n            let m2 = '【　　　】';\n\n            if ( this.notification.title == '' ) {\n                this.notification.title = document.querySelector('title').innerHTML;\n            }\n\n            let unread = this.usersList.filter(u => u.unread > 0);\n\n            if ( unread.length == 0 ) {\n                document.querySelector('title').innerHTML = this.notification.title;\n                return;\n            }\n\n            if ( this.notification.trigger ) {\n                document.querySelector('title').innerHTML = m1 + ' - '+ this.notification.title;\n                this.notification.trigger = false;\n            } else {\n                document.querySelector('title').innerHTML = m2 + ' - '+ this.notification.title;\n                this.notification.trigger = true;\n            }\n        }, 500);\n    },\n\n    watch: {\n    },\n\n    computed: {\n        ws_status: function () {\n            return this.wsStatus != 10 ? true : false;\n        }\n    },\n\n    data() {\n        return {\n            ws: '',\n            wsStatus: -1,\n\n            lrDisplay: -1, // 为手机时，列表、聊天界面分开显示；为：0、隐藏聊天界面，1、隐藏列表界面，-1、不处理\n\n            formLogin: {\n                user: '',\n                password: '',\n\n                rule: {\n                    user : [\n                        { required: true, message: '请填写用户名', trigger: 'blur' }\n                    ],\n\n                    password: [\n                        { required: true, message: '请填写密码', trigger: 'blur' },\n                        { type: 'string', min: 6, message: '密码最少6位', trigger: 'blur' }\n                    ]\n                }\n            },\n\n            formPasswd: {\n                show: false,\n                passwd: '',\n                passwd2: '',\n\n                rule: {\n                    passwd : [\n                        { required: true, message: '请填写旧密码', trigger: 'blur' },\n                    ],\n\n                    passwd2: [\n                        { required: true, message: '请填写新密码', trigger: 'blur' },\n                        { type: 'string', min: 6, message: '密码最少6位', trigger: 'blur' }\n                    ]\n                }\n            },\n\n            userInfo: {\n\n            },\n\n            allUsersList:[],\n            usersList: [\n                /*\n                {\n                    id: 1,\n                    group: true,\n                    members: [\n                        {\n                            name: '前端群',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                        }\n                    ],\n                    name: '小明',\n                    img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                    unread: 0,\n                    content: [\n                        {\n                            type: 'txt', // img file\n                            uid: 1,\n                            to: '123',\n                            msg: 'ssssss',\n                            name: '小明',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                            time: 1234567890\n                        }\n                    ]\n                },\n\n                {\n                    id: 2,\n                    group: false,\n                    num: 0,\n                    name: '小李',\n                    img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                    unread: 3,\n                    content: [\n                        {\n                            type: 'txt', // img file\n                            uid: 1,\n                            to: '2',\n                            msg: 'ssssss',\n                            name: '小明',\n                            img: '//tva4.sinaimg.cn/crop.0.1.1125.1125.180/475bb144jw8f9nwebnuhkj20v90vbwh9.jpg',\n                            time: 1234567890\n                        },\n\n                        {\n                            type: 'img', // img file\n                            uid: 2,\n                            to: '1',\n                            msg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQSdvjrryBoc_rdovfcwNgVuGRG8qqWA-BJ2Ti_TKc3wLzR_2mt',\n                            name: '小李',\n                            img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                            time: 1234567890\n                        },\n\n                        {\n                            type: 'file', // img file\n                            uid: 2,\n                            to: '1',\n                            filename: '好文件',\n                            msg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQSdvjrryBoc_rdovfcwNgVuGRG8qqWA-BJ2Ti_TKc3wLzR_2mt',\n                            name: '小李',\n                            img: '//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg',\n                            time: 1234567890\n                        },\n                    ]\n                }\n                */\n            ],\n\n            user: {},\n            userIndex: -1,\n\n            memberManage: {\n                show: false,\n                columns: [\n                    {'title': '用户名', 'key': 'name'}, \n                    {'title': '操作', 'key': 'act',\n                    render: (h, params) => {\n                            return h('div', [\n                                /*\n                                h('Button', {\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            this.ws.send( JSON.stringify({'type': 'update_user', 'name':params.row.name, 'del': 1}) );\n                                        }\n                                    }\n                                }, '删除'),\n                                */\n\n                                h('Button', {\n                                    style: {\n                                        marginLeft: '5px'\n                                    },\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            \n                                            this.formLogin.user = params.row.name;\n                                        }\n                                    }\n                                }, '密码修改'),\n                            ]);\n                        }\n                    }\n                ],\n                data: [\n                    {'name': 'loading...'}\n                ]\n            },\n\n            memberSearch: {\n                show: false,\n                columns: [\n                    {'type': 'selection', width: 80},\n                    {'title': '用户名', 'key': 'name'}\n                ],\n\n                data: [{'name': 'loading...'}],\n\n                group_name: '',\n                selected: []\n            },\n\n            notification: {\n                trigger: true,\n                title: '',\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.wrapper, .wrapper>.ivu-col{ height: 100%;}\n.wrapper { max-width: 1000px; margin: auto; border: #dcdee2 1px solid;}\n\n/* 动画 */\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .8s;\n}\n.fade-enter, .fade-leave-to .fade-leave-active {\n  opacity: 0;\n}\n\n.slide-fade-enter-active {\n  transition: all .3s ease;\n}\n.slide-fade-leave-active {\n  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.slide-fade-enter, .slide-fade-leave-to\n/* .slide-fade-leave-active for below version 2.1.8 */ {\n  transform: translateX(100px);\n  opacity: 0;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}